# Отчёт о развертывании Kubernetes кластера для ALVS_project

**Дата развертывания:** [будет заполнено автоматически]  
**Кластер:** 3 узла (1 master + 2 workers)
- k8s-master: 192.168.1.92
- k8s-worker-1: 192.168.1.93
- k8s-worker-2: 192.168.1.94

---

## Описание процесса развертывания

Данный отчёт документирует пошаговый процесс развертывания Kubernetes кластера и деплоя приложения ALVS_project.

### Архитектура развертывания

```
┌─────────────────────────────────────────────────────────┐
│              Kubernetes Cluster                         │
│                                                          │
│  ┌──────────────────┐                                  │
│  │  k8s-master      │  (192.168.1.92)                  │
│  │  - Control Plane │                                   │
│  │  - etcd          │                                   │
│  └──────────────────┘                                  │
│           │                                             │
│           ├──────────────────┬──────────────────┐       │
│           │                  │                  │       │
│  ┌────────▼──────┐  ┌────────▼──────┐          │       │
│  │ k8s-worker-1  │  │ k8s-worker-2  │          │       │
│  │ (192.168.1.93)│  │ (192.168.1.94)│          │       │
│  │               │  │               │          │       │
│  │ - alvs-app    │  │ - alvs-app    │          │       │
│  │ - Prometheus  │  │ - Grafana     │          │       │
│  └───────────────┘  └───────────────┘          │       │
│                                                  │       │
│                                        ┌─────────▼────┐ │
│                                        │ PostgreSQL   │ │
│                                        │ (StatefulSet)│ │
│                                        └──────────────┘ │
└─────────────────────────────────────────────────────────┘
```

---

## Выполненные шаги

*Этот раздел будет автоматически заполнен при выполнении скрипта deploy-with-report.sh*

---

## Итоговая информация

### Доступ к приложению

После успешного развертывания приложение доступно на любом узле кластера:

- **Приложение Flask:** http://<node-ip>:30080
- **Prometheus:** http://<node-ip>:30090
- **Grafana:** http://<node-ip>:30300 (логин: admin, пароль: admin)

### Полезные команды

```bash
# Установка переменной окружения для kubectl
export KUBECONFIG=~/.kube/config-k8s-cluster

# Просмотр подов
kubectl get pods -n alvs
kubectl get pods -n monitoring

# Просмотр логов
kubectl logs -n alvs -l app=alvs-app -f
kubectl logs -n alvs -l app=postgres -f

# Масштабирование
kubectl scale deployment alvs-app -n alvs --replicas=3
```

---

**Примечание:** Для выполнения развертывания запустите скрипт:
```bash
cd config/kubernetes
./deploy-with-report.sh
```
